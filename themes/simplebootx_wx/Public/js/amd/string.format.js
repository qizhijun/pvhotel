//! string.format.js
!function(t){function n(t){return{}.toString.call(t).slice(8,-1)}function r(t){return"Function"===n(t)}function i(n,r){if(n===t)return t;if(r.length){var e=r.shift();return n[e]===t?t:i(n[e],r)}return n}String.prototype.format=function(){var e=[].slice.call(arguments,0);return e.length?this.replace(/\{(.+?)\}/g,function(){var o=arguments[0],l=/^\{(#?)([\d\_\.a-z]+?)(\((.*?)\))?\s*(\[([\d\_a-z]+)\])?(\|(.+))?\}$/i.exec(o),p=l[1],s=l[2],u=l[4],f=l[6],a=l[8],g=t;if(g=p&&/\d+/.test(s)?e[s]:i(e[0],s.split(/\s*?\.\s*?/)),r(g)&&u&&(g=g.apply(null,u.split(/\s*?\,\s*?/))),f&&(g=i(g,f.split(/\s*?\.\s*?/))),g===t)return o;if(a){a=a.split(/\s*?\|\s*?/);for(var c=0,y=a.length;y>c;c++){for(var m=a[c].split(/\s*?\:\s*?/),S=m.shift(),d=null,y=e.length,h=e[0];h=e[c++];)"Object"==n(h)&&(d=r(h[S])?h[S]:d);r(d)?g=d.apply(null,[g].concat(m)):(d=String.prototype.format_modifiers[S],r(d)?g=d.apply(g,m):(d=String.prototype[S],"String"==n(g)&&r(d)?g=d.apply(g.toString(),m):0+g==g&&(g=+g,d=Number.prototype[S],r(d))?g=d.apply(g,m).toString():(d=window[S],r(d)&&(m.unshift(g),g=d.apply(null,m)))))}}return(g===t?o:null===g?"null":g).toString()}):String(this)},String.prototype.format_modifiers={},"function"==typeof define&&define.amd&&define("stringFormat",[],function(){return String.prototype.format})}();